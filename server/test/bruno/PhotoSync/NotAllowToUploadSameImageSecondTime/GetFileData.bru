meta {
  name: GetFileData
  type: http
  seq: 6
}

get {
  url: {{HOST}}/file_data?offset=0&count=10
  body: none
  auth: inherit
}

params:query {
  offset: 0
  count: 10
}

headers {
  Authorization: {{TOKEN}}
}

assert {
  res.status: eq 200
}

tests {
  const rawJpgBase64 = bru.getCollectionVar("RAW_JPG_BASE64")
  test("should return proper file data", function(){
    expect(res.getBody()).to.eql(
    [
      {
        creation_date : "2025.08.11 15:40:00",
        filename : "raw1.jpg",
        id: "1",
        mime_type: "image/jpeg",
        size: "2439",
        thumbnail: rawJpgBase64
      },
    ]
    )
  })
  
}

settings {
  encodeUrl: true
}
